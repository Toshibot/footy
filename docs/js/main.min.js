function scroll(){$(window).on("scroll",function(){$(this).scrollTop()>=$(".c-fixture__round").offset().top-500?$(".js-scrollto-fixture").addClass("is-hidden"):$(".js-scrollto-fixture").removeClass("is-hidden")}),$(".js-scrollto-fixture").on("click",function(){$("html, body").animate({scrollTop:$(".js-game-pregame").offset().top-36},{duration:400,specialEasing:"easeInOut"})}),$(".c-fixture__game").each(function(){$(this).hasClass("c-fixture__game--in-progress")&&($(".js-scrollto-fixture").addClass("has-live"),$(".js-scrollto-fixture").on("click",function(){$("html, body").animate({scrollTop:$(".c-fixture__game--in-progress").offset().top-36},{duration:400,specialEasing:"easeInOut"})}))})}function dataFixture(e){$.getJSON("https://statsapi.foxsports.com.au/3.0/api/sports/afl/series/1/seasons/126/fixturesandresults.json?userkey=6B2F4717-A97C-49F6-8514-3600633439B9",function(t){$.getJSON("data/fixture.json",function(a){var s=new Date,c=[],n=roundCalc(s,a);for($(".js-fixture-round").text(n),i=0;i<t.length;i++){const r=t[i];r.round.number==n&&c.push(r)}c[8];for(i=0;i<c.length;i++){const r=c[i];fixtureItem(r,e)}});var a=[];for(i=0;i<t.length;i++){const s=t[i];1==s.is_final&&a.push(s)}console.log(a),finals(a,e)})}function dataLadder(e){$.getJSON("https://statsapi.foxsports.com.au/3.0/api/sports/afl/series/1/seasons/126/ladder.json?userkey=6B2F4717-A97C-49F6-8514-3600633439B9",function(t){$(".c-ladder__round");for(i=0;i<t.teams.length;i++){const a=t.teams[i],s=e[a.code];ladderItem(a,i+1,s)}})}function data(){$.getJSON("data/clubs.json",function(e){dataLadder(e),dataFixture(e)})}function vertCenter(e,t){var a=e.parent().height();e.css({height:a+"px","line-height":a+"px"}),e.children(t).css({height:e.children(t).height(),"padding-top":(a-e.children(t).height())/2+"px","padding-bottom":(a-e.children(t).height())/2+"px"})}function clearStyles(e,t){e.attr("style",""),t.attr("style","")}function dateTime(e){var t=new Date(e),a=t.getDate();return{day:function(e){var t=e.getDay();return 0==t?"Sunday":1==t?"Monday":2==t?"Tuesday":3==t?"Wednesday":4==t?"Thursday":5==t?"Friday":6==t?"Saturday":void 0}(t),month:function(e){var t=e.getMonth();return 0==t?"Jan":1==t?"Feb":2==t?"Mar":3==t?"Apr":4==t?"May":5==t?"Jun":6==t?"Jul":7==t?"Aug":8==t?"Sep":9==t?"Oct":10==t?"Nov":11==t?"Dec":void 0}(t),date:a,time:function(e){return e.getHours()+":"+("0"+e.getMinutes()).slice(-2)}(t)}}function finals(e,t){function a(e,a){var s=a.team_A,i=a.team_B,c=t[s.code],n=t[i.code],r=dateTime(a.match_start_date),d=e.children(".c-date"),l=e.children(".js-fixture-team-1"),o=e.children(".js-fixture-team-2"),_=e.children(".js-fixture-venue");"Pre Game"==a.match_status?(d.children(".c-date__day").text(r.day),d.children(".c-date__month").text(r.month),d.children(".c-date__date").text(r.date),d.children(".c-date__time").text(r.time)):"Full Time"==a.match_status?(e.addClass("full-time"),d.children(".c-date__day").text(r.day),d.children(".c-date__month").text(r.month),d.children(".c-date__date").text(r.date),d.children(".c-date__time").text("FT")):(e.addClass("live"),d.append('<span class="c-date__live">LIVE</span><span class="c-date__status">'+a.match_status+'</span><span class="c-date__played-time">'+a.match_time+"</span>")),l.children(".js-team-img").attr("src",c.kit.home),l.children(".js-team-text").text(c.name),"Pre Game"!==a.match_status&&l.children(".js-score-text").text("").append(s.goals+". "+s.behinds+'. <span class="c-fixture__score-total">'+s.score+"</span>"),null!==i.id&&(o.children(".js-team-img").attr("src",awayKit(n.kit,s.code)),o.children(".js-team-text").text(n.name)),"Pre Game"!==a.match_status&&o.children(".js-score-text").text("").append(i.goals+". "+i.behinds+'. <span class="c-fixture__score-total">'+i.score+"</span>"),_.text(a.venue.name)}function s(e){return"post"==e.match_status_normalised&&home_team.score>away_team.score?{name:home_club_data.name,bg:home_club_data.pattern}:"post"==e.match_status_normalised&&away_team.score>home_team.score?{name:away_club_data.name,bg:away_club_data.pattern}:{name:"?"}}var i=e[8];$(".js-finals-series-year").text(e[0].season.year),$(".js-premiership-year").text(e[0].season.year),a($(".js-finals-qf1"),e[1]),a($(".js-finals-qf2"),e[2]),a($(".js-finals-ef1"),e[0]),a($(".js-finals-ef2"),e[3]),a($(".js-finals-sf1"),e[4]),a($(".js-finals-sf2"),e[5]),a($(".js-finals-pf1"),e[7]),a($(".js-finals-pf2"),e[6]),a($(".js-finals-gf"),i),$(".js-premiers-name").text(s(i).name),$(".js-premiers-bg").css({"background-image":"url("+s(i).bg+")","background-size":"cover"})}function fixtureItem(e,t){var a=dateTime(e.match_start_date),s=e.match_status,i=e.team_A,c=e.team_B,n=t[i.code],r=t[c.code];"Pre Game"==s?$(".js-fixture").before('<div class="c-fixture__game js-game-pregame"><div class= "c-fixture__date c-date" ><span class="c-date__day">'+a.day+'</span><span class="c-date__month">'+a.month+'</span><span class="c-date__date">'+a.date+'</span><span class="c-date__time">'+a.time+'</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+n.kit.home+'" /><span class="js-team-text">'+n.name+'</span><span class="c-fixture__score js-score-text">-</span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(r.kit,i.code)+'" /><span class="js-team-text">'+r.name+'</span><span class="c-fixture__score js-score-text">-</span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>"):"Full Time"==s?$(".js-fixture").before('<div class="c-fixture__game c-fixture__game--completed"><div class= "c-fixture__date c-date" ><span class="c-date__day">'+a.day+'</span><span class="c-date__month">'+a.month+'</span><span class="c-date__date">'+a.date+'</span><span class="c-date__time">FT</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+n.kit.home+'" /><span class="js-team-text">'+n.name+'</span><span class="c-fixture__score js-score-text">'+i.goals+". "+i.behinds+'. <span class="c-fixture__score-total">'+i.score+'</span></span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(r.kit,i.code)+'" /><span class="js-team-text">'+r.name+'</span><span class="c-fixture__score js-score-text">'+c.goals+". "+c.behinds+'. <span class="c-fixture__score-total">'+c.score+'</span></span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>"):$(".js-fixture").before('<div class="c-fixture__game c-fixture__game--in-progress"><div class= "c-fixture__date c-date" ><span class="c-date__live">LIVE</span><span class="c-date__status">'+s+'</span><span class="c-date__time">'+e.match_time+'</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+n.kit.home+'" /><span class="js-team-text">'+n.name+'</span><span class="c-fixture__score js-score-text">'+i.goals+". "+i.behinds+'. <span class="c-fixture__score-total">'+i.score+'</span></span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(r.kit,i.code)+'" /><span class="js-team-text">'+r.name+'</span><span class="c-fixture__score js-score-text">'+c.goals+". "+c.behinds+'. <span class="c-fixture__score-total">'+c.score+'</span></span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>")}function awayKit(e,t){return e.clash.teams.includes(t)?e.clash.kit:e.away}function ladderItem(e,t,a){$(".c-ladder__item-"+t+" div.c-ladder__team").children("span").text(a.name),$(".c-ladder__item-"+t+" div.c-ladder__team").children("img").attr("src",a.logo),$(".c-ladder__item-"+t+" div.c-ladder__played").text(e.stats.played),$(".c-ladder__item-"+t+" div.c-ladder__wins").text(e.stats.won),$(".c-ladder__item-"+t+" div.c-ladder__draws").text(e.stats.drawn),$(".c-ladder__item-"+t+" div.c-ladder__losses").text(e.stats.lost),$(".c-ladder__item-"+t+" div.c-ladder__points-for").text(e.stats.for),$(".c-ladder__item-"+t+" div.c-ladder__points-against").text(e.stats.against),$(".c-ladder__item-"+t+" div.c-ladder__percentage").text(e.stats.percentage),$(".c-ladder__item-"+t+" div.c-ladder__points").text(e.stats.points)}function roundCalc(e,t){for(i=0;i<t.length;i++){const a=t[i],s=new Date(a.start),c=new Date(a.end);if(s<e&&e<c)return a.round}}data(),$(window).on("resize",function(){});