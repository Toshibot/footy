function scroll(){$(window).on("scroll",function(){$(this).scrollTop()>=$(".c-fixture__round").offset().top-500?$(".js-scrollto-fixture").addClass("is-hidden"):$(".js-scrollto-fixture").removeClass("is-hidden")}),$(".js-scrollto-fixture").on("click",function(){$("html, body").animate({scrollTop:$(".js-game-pregame").offset().top-36},{duration:400,specialEasing:"easeInOut"})}),$(".c-fixture__game").each(function(){$(this).hasClass("c-fixture__game--in-progress")&&($(".js-scrollto-fixture").addClass("has-live"),$(".js-scrollto-fixture").on("click",function(){$("html, body").animate({scrollTop:$(".c-fixture__game--in-progress").offset().top-36},{duration:400,specialEasing:"easeInOut"})}))})}function dataFixture(e){$.getJSON("https://statsapi.foxsports.com.au/3.0/api/sports/afl/series/1/seasons/125/fixturesandresults.json?userkey=6B2F4717-A97C-49F6-8514-3600633439B9",function(a){for(console.log("fixture loaded"),console.log(a),$.getJSON("data/fixture.json",function(s){var t=new Date,n=[],m=roundCalc(t,s);for($(".js-fixture-round").text(m),i=0;i<a.length;i++){const c=a[i];c.round.number==m&&n.push(c)}console.log(n);n[8];for(i=0;i<n.length;i++){const c=n[i];fixtureItem(c,e)}}),i=0;i<a.length;i++){const s=a[i];1==s.is_final&&finalsData.push(s)}})}function dataLadder(e){$.getJSON("https://statsapi.foxsports.com.au/3.0/api/sports/afl/series/1/seasons/125/ladder.json?userkey=6B2F4717-A97C-49F6-8514-3600633439B9",function(a){$(".c-ladder__round");for(i=0;i<a.teams.length;i++){const s=a.teams[i],t=e[s.code];ladderItem(s,i+1,t)}})}function data(){$.getJSON("data/clubs.json",function(e){dataLadder(e),dataFixture(e)})}function dateTime(e){var a=new Date(e),s=a.getDate();return{day:function(e){var a=e.getDay();return 0==a?"Sunday":1==a?"Monday":2==a?"Tuesday":3==a?"Wednesday":4==a?"Thursday":5==a?"Friday":6==a?"Saturday":void 0}(a),month:function(e){var a=e.getMonth();return 0==a?"Jan":1==a?"Feb":2==a?"Mar":3==a?"Apr":4==a?"May":5==a?"Jun":6==a?"Jul":7==a?"Aug":8==a?"Sep":9==a?"Oct":10==a?"Nov":11==a?"Dec":void 0}(a),date:s,time:function(e){return e.getHours()+":"+("0"+e.getMinutes()).slice(-2)}(a)}}function finals(e,a){function s(e,a){var s=dateTime(a.match_start_date),t=e.children(".c-date"),i=e.children(".js-fixture-team-1"),o=e.children(".js-fixture-team-2"),d=e.children(".js-fixture-venue");"Pre Game"==a.match_status?(t.children(".c-date__day").text(s.day),t.children(".c-date__month").text(s.month),t.children(".c-date__date").text(s.date),t.children(".c-date__time").text(s.time)):"Full Time"==a.match_status?(e.addClass("full-time"),t.children(".c-date__day").text(s.day),t.children(".c-date__month").text(s.month),t.children(".c-date__date").text(s.date),t.children(".c-date__time").text("FT")):(e.addClass("live"),t.append('<span class="c-date__live">LIVE</span><span class="c-date__status">'+a.match_status+'</span><span class="c-date__played-time">'+a.match_time+"</span>")),i.children(".js-team-img").attr("src",c.kit.home),i.children(".js-team-text").text(c.name),"Pre Game"!==a.match_status&&i.children(".js-score-text").text("").append(n.goals+". "+n.behinds+'. <span class="c-fixture__score-total">'+n.score+"</span>"),o.children(".js-team-img").attr("src",awayKit(r.kit,n.code)),o.children(".js-team-text").text(r.name),"Pre Game"!==a.match_status&&o.children(".js-score-text").text("").append(m.goals+". "+m.behinds+'. <span class="c-fixture__score-total">'+m.score+"</span>"),d.text(a.venue.name)}function t(e){return"post"==e.match_status_normalised&&n.score>m.score?{name:c.name,bg:c.pattern}:"post"==e.match_status_normalised&&m.score>n.score?{name:r.name,bg:r.pattern}:{name:"?",bg:"img/teams/"}}console.log(e);var i=e[8],n=e.team_A,m=e.team_B,c=a[n.code],r=a[m.code];$(".js-finals-series-year").text(e[0].season.year),$(".js-premiership-year").text(e[0].season.year),s($(".js-finals-qf1"),e[0]),s($(".js-finals-qf2"),e[1]),s($(".js-finals-ef1"),e[3]),s($(".js-finals-ef2"),e[2]),s($(".js-finals-sf1"),e[5]),s($(".js-finals-sf2"),e[4]),s($(".js-finals-pf1"),e[6]),s($(".js-finals-pf2"),e[7]),s($(".js-finals-gf"),i),$(".js-premiers-name").text(t(i).name),$(".js-premiers-bg").css({"background-image":"url("+t(i).bg+")","background-size":"cover"})}function fixtureItem(e,a){var s=dateTime(e.match_start_date),t=e.match_status,i=e.team_A,n=e.team_B,m=a[i.code],c=a[n.code];"Pre Game"==t?$(".js-fixture").before('<div class="c-fixture__game js-game-pregame"><div class= "c-fixture__date c-date" ><span class="c-date__day">'+s.day+'</span><span class="c-date__month">'+s.month+'</span><span class="c-date__date">'+s.date+'</span><span class="c-date__time">'+s.time+'</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+m.kit.home+'" /><span class="js-team-text">'+m.name+'</span><span class="c-fixture__score js-score-text">-</span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(c.kit,i.code)+'" /><span class="js-team-text">'+c.name+'</span><span class="c-fixture__score js-score-text">-</span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>"):"Full Time"==t?$(".js-fixture").before('<div class="c-fixture__game c-fixture__game--completed"><div class= "c-fixture__date c-date" ><span class="c-date__day">'+s.day+'</span><span class="c-date__month">'+s.month+'</span><span class="c-date__date">'+s.date+'</span><span class="c-date__time">FT</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+m.kit.home+'" /><span class="js-team-text">'+m.name+'</span><span class="c-fixture__score js-score-text">'+i.goals+". "+i.behinds+'. <span class="c-fixture__score-total">'+i.score+'</span></span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(c.kit,i.code)+'" /><span class="js-team-text">'+c.name+'</span><span class="c-fixture__score js-score-text">'+n.goals+". "+n.behinds+'. <span class="c-fixture__score-total">'+n.score+'</span></span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>"):$(".js-fixture").before('<div class="c-fixture__game c-fixture__game--in-progress"><div class= "c-fixture__date c-date" ><span class="c-date__live">LIVE</span><span class="c-date__status">'+t+'</span><span class="c-date__time">'+e.match_time+'</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+m.kit.home+'" /><span class="js-team-text">'+m.name+'</span><span class="c-fixture__score js-score-text">'+i.goals+". "+i.behinds+'. <span class="c-fixture__score-total">'+i.score+'</span></span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(c.kit,i.code)+'" /><span class="js-team-text">'+c.name+'</span><span class="c-fixture__score js-score-text">'+n.goals+". "+n.behinds+'. <span class="c-fixture__score-total">'+n.score+'</span></span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>")}function awayKit(e,a){return e.clash.teams.includes(a)?e.clash.kit:e.away}function ladderItem(e,a,s){$(".c-ladder__item-"+a+" div.c-ladder__team").children("span").text(s.name),$(".c-ladder__item-"+a+" div.c-ladder__team").children("img").attr("src",s.logo),$(".c-ladder__item-"+a+" div.c-ladder__played").text(e.stats.played),$(".c-ladder__item-"+a+" div.c-ladder__wins").text(e.stats.won),$(".c-ladder__item-"+a+" div.c-ladder__draws").text(e.stats.drawn),$(".c-ladder__item-"+a+" div.c-ladder__losses").text(e.stats.lost),$(".c-ladder__item-"+a+" div.c-ladder__points-for").text(e.stats.for),$(".c-ladder__item-"+a+" div.c-ladder__points-against").text(e.stats.against),$(".c-ladder__item-"+a+" div.c-ladder__percentage").text(e.stats.percentage),$(".c-ladder__item-"+a+" div.c-ladder__points").text(e.stats.points)}function roundCalc(e,a){for(i=0;i<a.length;i++){const s=a[i],t=new Date(s.start),n=new Date(s.end);if(t<e&&e<n)return s.round}}function vertCenter(e,a){var s=e.parent().height();e.css({height:s+"px","line-height":s+"px"}),e.children(a).css({height:e.children(a).height(),"padding-top":(s-e.children(a).height())/2+"px","padding-bottom":(s-e.children(a).height())/2+"px"})}function clearStyles(e,a){e.attr("style",""),a.attr("style","")}data();var ladder=function(){var e=$('.c-ladder__team:contains("Greater Western Sydney")');e.children("span").text("GWS"),e.children("img").attr("src","img/teams/gws.svg"),$('.c-ladder__team:contains("Hawthorn")').children("img").attr("src","img/teams/hawks.svg"),$('.c-ladder__team:contains("Gold Coast")').children("img").attr("src","img/teams/suns.svg"),$('.c-ladder__team:contains("Sydney")').children("img").attr("src","img/teams/swans.svg"),$('.c-ladder__team:contains("St Kilda")').children("img").attr("src","img/teams/saints.svg"),$('.c-ladder__team:contains("Richmond")').children("img").attr("src","img/teams/tigers.svg"),$('.c-ladder__team:contains("Essendon")').children("img").attr("src","img/teams/bombers.svg"),$('.c-ladder__team:contains("Geelong")').children("img").attr("src","img/teams/cats.svg"),$('.c-ladder__team:contains("Melbourne")').children("img").attr("src","img/teams/demons.svg"),$('.c-ladder__team:contains("Adelaide")').children("img").attr("src","img/teams/crows.svg"),$('.c-ladder__team:contains("Carlton")').children("img").attr("src","img/teams/blues.svg"),$('.c-ladder__team:contains("Port Adelaide")').children("img").attr("src","img/teams/port.svg"),$('.c-ladder__team:contains("Brisbane")').children("img").attr("src","img/teams/lions.svg"),$('.c-ladder__team:contains("West Coast")').children("img").attr("src","img/teams/eagles.svg"),$('.c-ladder__team:contains("North Melbourne")').children("img").attr("src","img/teams/kangaroos.svg"),$('.c-ladder__team:contains("Collingwood")').children("img").attr("src","img/teams/magpies.svg"),$('.c-ladder__team:contains("Fremantle")').children("img").attr("src","img/teams/dockers.svg"),$('.c-ladder__team:contains("Bulldogs")').children("img").attr("src","img/teams/dogs.svg")},data_club={ADE:{name:"Adelaide",logo:"img/teams/crows.png",kit:{home:"img/teams/crows-home.png",away:"img/teams/crows-away.png",clash:{kit:"img/teams/crows-home.png",teams:["HAW"]}}},BRI:{name:"Brisbane",logo:"img/teams/lions.png",kit:{home:"img/teams/lions-home.png",away:"img/teams/lions-away.png",clash:{kit:"img/teams/lions-clash.png",teams:["SYD","GWS","GCS","WCE","ADE","FRE","POR","MEL"]}}},CAR:{name:"Carlton",logo:"img/teams/blues.png",kit:{home:"img/teams/blues-home.png",away:"img/teams/blues-away.png",clash:{kit:"img/teams/blues-home.png",teams:["GEE","SYD"]}}},COL:{name:"Collingwood",logo:"img/teams/magpies.png",kit:{home:"img/teams/magpies-home.png",away:"img/teams/magpies-away.png",clash:{kit:"img/teams/magpies-home.png",teams:["SYD","GEE"]}}},ESS:{name:"Essendon",logo:"img/teams/bombers.png",kit:{home:"img/teams/bombers-home.png",away:"img/teams/bombers-home.png",clash:{kit:"img/teams/bombers-clash.png",teams:["MEL","COL","CAR","POR","STK","RIC"]}}},FRE:{name:"Fremantle",logo:"img/teams/dockers.png",kit:{home:"img/teams/dockers-home.png",away:"img/teams/dockers-away.png",clash:{kit:"img/teams/dockers-home.png",teams:["SYD","GEE"]}}},GEE:{name:"Geelong",logo:"img/teams/lions.png",kit:{home:"img/teams/cats-home.png",away:"img/teams/cats-home.png",clash:{kit:"img/teams/cats-clash.png",teams:[]}}},GCS:{name:"Gold Coast",logo:"img/teams/suns.png",kit:{home:"img/teams/suns-home.png",away:"img/teams/suns-away.png",clash:{kit:"img/teams/suns-home.png",teams:["WBD","CAR","FRE","NM","WCE"]}}},GWS:{name:"Gr. W. Sydney",logo:"img/teams/gws.png",kit:{home:"img/teams/gws-home.png",away:"img/teams/gws-away.png",clash:{kit:"img/teams/gws-home.png",teams:["SYD","GEE"]}}},HAW:{name:"Hawthorn",logo:"img/teams/hawks.png",kit:{home:"img/teams/hawks-home.png",away:"img/teams/hawks-away.png",clash:{kit:"img/teams/hawks-home.png",teams:[]}}},MEL:{name:"Melbourne",logo:"img/teams/demons.png",kit:{home:"img/teams/demons-home.png",away:"img/teams/demons-away.png",clash:{kit:"img/teams/demons-home.png",teams:[]}}},NM:{name:"N. Melbourne",logo:"img/teams/kangaroos.png",kit:{home:"img/teams/kangaroos-home.png",away:"img/teams/kangaroos-clash.png",clash:{kit:"img/teams/kangaroos-home.png",teams:["COL"]}}},POR:{name:"Port Adelaide",logo:"img/teams/power.png",kit:{home:"img/teams/power-home.png",away:"img/teams/power-away.png",clash:{kit:"img/teams/power-home.png",teams:["SYD","GEE"]}}},RIC:{name:"Richmond",logo:"img/teams/tigers.png",kit:{home:"img/teams/tigers-home.png",away:"img/teams/tigers-away.png",clash:{kit:"img/teams/tigers-home.png",teams:["HAW"]}}},STK:{name:"St. Kilda",logo:"img/teams/saints.png",kit:{home:"img/teams/saints-home.png",away:"img/teams/saints-away.png",clash:{kit:"img/teams/saints-home.png",teams:["SYD","GEE"]}}},SYD:{name:"Sydney",logo:"img/teams/swans.png",kit:{home:"img/teams/swans-home.png",away:"img/teams/swans-home.png",clash:{kit:"img/teams/swans-home.png",teams:[]}}},WBD:{name:"W. Bulldogs",logo:"img/teams/dogs.png",kit:{home:"img/teams/dogs-home.png",away:"img/teams/dogs-away.png",clash:{kit:"img/teams/dogs-home.png",teams:["SYD","GEE"]}}},WCE:{name:"West Coast",logo:"img/teams/eagles.png",kit:{home:"img/teams/eagles-home.png",away:"img/teams/eagles-away.png",clash:{kit:"img/teams/eagles-home.png",teams:["HAW"]}}}};$(window).on("resize",function(){});