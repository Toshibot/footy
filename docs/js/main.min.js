function scroll(){$(window).on("scroll",function(){$(this).scrollTop()>=$(".c-fixture__round").offset().top-500?$(".js-scrollto-fixture").addClass("is-hidden"):$(".js-scrollto-fixture").removeClass("is-hidden")}),$(".js-scrollto-fixture").on("click",function(){$("html, body").animate({scrollTop:$(".js-game-pregame").offset().top-36},{duration:400,specialEasing:"easeInOut"})}),$(".c-fixture__game").each(function(){$(this).hasClass("c-fixture__game--in-progress")&&($(".js-scrollto-fixture").addClass("has-live"),$(".js-scrollto-fixture").on("click",function(){$("html, body").animate({scrollTop:$(".c-fixture__game--in-progress").offset().top-36},{duration:400,specialEasing:"easeInOut"})}))})}function dataFixture(e){$.getJSON("https://statsapi.foxsports.com.au/3.0/api/sports/afl/series/1/seasons/125/fixturesandresults.json?userkey=6B2F4717-A97C-49F6-8514-3600633439B9",function(e){console.log("fixture loaded"),console.log(e);var a=new Date,s=(new Date("2018-04-24"),[]),t=[],m=roundCalc(a);for($(".js-fixture-round").text(m),i=0;i<e.length;i++){const n=e[i];n.round.number==m&&s.push(n)}console.log(s);s[8];for(i=0;i<s.length;i++){const n=s[i];fixtureItem(n)}for(i=0;i<e.length;i++){const g=e[i];1==g.is_final&&t.push(g)}})}function dataLadder(){$.getJSON("https://statsapi.foxsports.com.au/3.0/api/sports/afl/series/1/seasons/125/ladder.json?userkey=6B2F4717-A97C-49F6-8514-3600633439B9",function(e){$(".c-ladder__round");for(console.log(e),i=0;i<e.teams.length;i++){ladderItem(e.teams[i],i+1)}})}function data(){$.getJSON("data/clubs.json",function(e){})}function dateTime(e){var a=new Date(e),s=a.getDate();return{day:function(e){var a=e.getDay();return 0==a?"Sunday":1==a?"Monday":2==a?"Tuesday":3==a?"Wednesday":4==a?"Thursday":5==a?"Friday":6==a?"Saturday":void 0}(a),month:function(e){var a=e.getMonth();return 0==a?"Jan":1==a?"Feb":2==a?"Mar":3==a?"Apr":4==a?"May":5==a?"Jun":6==a?"Jul":7==a?"Aug":8==a?"Sep":9==a?"Oct":10==a?"Nov":11==a?"Dec":void 0}(a),date:s,time:function(e){return e.getHours()+":"+("0"+e.getMinutes()).slice(-2)}(a)}}function finals(e){function a(e,a){var s=a,t=dateTime(s.match_start_date),m=e.children(".c-date"),i=e.children(".js-fixture-team-1"),n=e.children(".js-fixture-team-2"),g=e.children(".js-fixture-venue");"Pre Game"==s.match_status?(m.children(".c-date__day").text(t.day),m.children(".c-date__month").text(t.month),m.children(".c-date__date").text(t.date),m.children(".c-date__time").text(t.time)):"Full Time"==s.match_status?(e.addClass("full-time"),m.children(".c-date__day").text(t.day),m.children(".c-date__month").text(t.month),m.children(".c-date__date").text(t.date),m.children(".c-date__time").text("FT")):(e.addClass("live"),m.append('<span class="c-date__live">LIVE</span><span class="c-date__status">'+s.match_status+'</span><span class="c-date__played-time">'+s.match_time+"</span>")),i.children(".js-team-img").attr("src",homeKit(s.team_A.code)),i.children(".js-team-text").text(teamAbrev(s.team_A.code,s.team_A.name)),"Pre Game"!==s.match_status&&i.children(".js-score-text").text("").append(s.team_A.goals+". "+s.team_A.behinds+'. <span class="c-fixture__score-total">'+s.team_A.score+"</span>"),n.children(".js-team-img").attr("src",awayKit(s.team_B.code,s.team_A.code)),n.children(".js-team-text").text(teamAbrev(s.team_B.code,s.team_B.name)),"Pre Game"!==s.match_status&&n.children(".js-score-text").text("").append(s.team_B.goals+". "+s.team_B.behinds+'. <span class="c-fixture__score-total">'+s.team_B.score+"</span>"),g.text(s.venue.name)}function s(e){return"post"==e.match_status_normalised&&e.team_A.score>e.team_B.score?{name:teamAbrev(e.team_A.code),bg:team_bg(e.team_A.code)}:"post"==e.match_status_normalised&&e.team_B.score>e.team_A.score?{name:teamAbrev(e.team_B.code),bg:team_bg(e.team_B.code)}:{name:"?",bg:"img/teams/"}}console.log(e);var t=e[8];$(".js-finals-series-year").text(e[0].season.year),$(".js-premiership-year").text(e[0].season.year),a($(".js-finals-qf1"),e[0]),a($(".js-finals-qf2"),e[1]),a($(".js-finals-ef1"),e[3]),a($(".js-finals-ef2"),e[2]),a($(".js-finals-sf1"),e[5]),a($(".js-finals-sf2"),e[4]),a($(".js-finals-pf1"),e[6]),a($(".js-finals-pf2"),e[7]),a($(".js-finals-gf"),t),$(".js-premiers-name").text(s(t).name),$(".js-premiers-bg").css({"background-image":"url("+s(t).bg+")","background-size":"cover"})}function fixtureItem(e){var a=dateTime(e.match_start_date),s=e.match_status;"Pre Game"==s?$(".js-fixture").before('<div class="c-fixture__game js-game-pregame"><div class= "c-fixture__date c-date" ><span class="c-date__day">'+a.day+'</span><span class="c-date__month">'+a.month+'</span><span class="c-date__date">'+a.date+'</span><span class="c-date__time">'+a.time+'</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+homeKit(e.team_A.code,e.team_B.code)+'" /><span class="js-team-text">'+teamAbrev(e.team_A.code)+'</span><span class="c-fixture__score js-score-text">-</span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(e.team_B.code,e.team_A.code)+'" /><span class="js-team-text">'+teamAbrev(e.team_B.code)+'</span><span class="c-fixture__score js-score-text">-</span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>"):"Full Time"==s?$(".js-fixture").before('<div class="c-fixture__game c-fixture__game--completed"><div class= "c-fixture__date c-date" ><span class="c-date__day">'+a.day+'</span><span class="c-date__month">'+a.month+'</span><span class="c-date__date">'+a.date+'</span><span class="c-date__time">FT</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+homeKit(e.team_A.code,e.team_B.code)+'" /><span class="js-team-text">'+teamAbrev(e.team_A.code)+'</span><span class="c-fixture__score js-score-text">'+e.team_A.goals+". "+e.team_A.behinds+'. <span class="c-fixture__score-total">'+e.team_A.score+'</span></span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(e.team_B.code,e.team_A.code)+'" /><span class="js-team-text">'+teamAbrev(e.team_B.code)+'</span><span class="c-fixture__score js-score-text">'+e.team_B.goals+". "+e.team_B.behinds+'. <span class="c-fixture__score-total">'+e.team_B.score+'</span></span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>"):$(".js-fixture").before('<div class="c-fixture__game c-fixture__game--in-progress"><div class= "c-fixture__date c-date" ><span class="c-date__live">LIVE</span><span class="c-date__status">'+s+'</span><span class="c-date__time">'+e.match_time+'</span></div ><div class="c-fixture__team js-fixture-team-1"><img class="js-team-img" src="'+homeKit(e.team_A.code,e.team_B.code)+'" /><span class="js-team-text">'+teamAbrev(e.team_A.code)+'</span><span class="c-fixture__score js-score-text">'+e.team_A.goals+". "+e.team_A.behinds+'. <span class="c-fixture__score-total">'+e.team_A.score+'</span></span></div><div class="c-fixture__vs">vs</div><div class="c-fixture__team js-fixture-team-2"><img class="js-team-img" src="'+awayKit(e.team_B.code,e.team_A.code)+'" /><span class="js-team-text">'+teamAbrev(e.team_B.code)+'</span><span class="c-fixture__score js-score-text">'+e.team_B.goals+". "+e.team_B.behinds+'. <span class="c-fixture__score-total">'+e.team_B.score+'</span></span></div><div class="c-fixture__venue js-fixture-venue">'+e.venue.name+"</div></div>")}function homeKit(e,a){return"ADE"==e?"img/teams/crows-home.png":"BRI"==e?"img/teams/lions-home.png":"CAR"==e?"img/teams/blues-home.png":"COL"==e?"img/teams/magpies-home.png":"ESS"==e?"img/teams/bombers-home.png":"FRE"==e?"img/teams/dockers-home.png":"GEE"==e?"img/teams/cats-home.png":"GCS"==e?"img/teams/suns-home.png":"GWS"==e?"img/teams/gws-home.png":"HAW"==e?"img/teams/hawks-home.png":"MEL"==e?"img/teams/demons-home.png":"NM"==e?"img/teams/kangaroos-home.png":"POR"==e?"ADE"==a?"img/teams/port-heritage.png":"img/teams/port-home.png":"RIC"==e?"img/teams/tigers-home.png":"STK"==e?"img/teams/saints-home.png":"SYD"==e?"img/teams/swans-home.png":"WCE"==e?"img/teams/eagles-home.png":"WBD"==e?"img/teams/dogs-home.png":void 0}function awayKit(e,a){return"ADE"==e?"GEE"==a||"SYD"==a?"img/teams/crows-home.png":"img/teams/crows-away.png":"BRI"==e?"SYD"==a||"GWS"==a||"GCS"==a||"WCE"==a||"ADE"==a||"FRE"==a||"POR"==a?"img/teams/lions-clash.png":"img/teams/lions-away.png":"CAR"==e?"GEE"==a||"SYD"==a||"HAW"==a||"GCS"==a?"img/teams/blues-home.png":"img/teams/blues-clash.png":"COL"==e?"GEE"==a?"img/teams/magpies-home.png":"img/teams/magpies-clash.png":"ESS"==e?"MEL"==a||"COL"==a||"CAR"==a||"POR"==a||"STK"==a||"RIC"==a?"img/teams/bombers-clash.png":"img/teams/bombers-home.png":"FRE"==e?"img/teams/dockers-away.png":"GEE"==e?"img/teams/cats-home.png":"GCS"==e?"WBD"==a||"CAR"==a||"FRE"==a||"NM"==a||"WCE"==a?"img/teams/suns-home.png":"img/teams/suns-away.png":"GWS"==e?"SYD"==a?"img/teams/gws-home.png":"img/teams/gws-away.png":"HAW"==e?"img/teams/hawks-away.png":"MEL"==e?"img/teams/demons-clash.png":"NM"==e?"img/teams/kangaroos-clash.png":"POR"==e?"ESS"==a||"COL"==a||"RIC"==a?"img/teams/port-clash.png":"ADE"==a?"img/teams/port-heritage.png":"img/teams/port-home.png":"RIC"==e?"img/teams/tigers-away.png":"STK"==e?"img/teams/saints-away.png":"SYD"==e?"img/teams/swans-home.png":"WCE"==e?"HAW"==a?"img/teams/eagles-home.png":"img/teams/eagles-away.png":"WBD"==e?"GEE"==a||"SYD"==a?"img/teams/dogs-home.png":"img/teams/dogs-away.png":void 0}function ladderItem(e,a){$(".c-ladder__item-"+a+" div.c-ladder__team").children("span").text(teamAbrev(e.code)),$(".c-ladder__item-"+a+" div.c-ladder__team").children("img").attr("src",teamImg(e.code)),$(".c-ladder__item-"+a+" div.c-ladder__played").text(e.stats.played),$(".c-ladder__item-"+a+" div.c-ladder__wins").text(e.stats.won),$(".c-ladder__item-"+a+" div.c-ladder__draws").text(e.stats.drawn),$(".c-ladder__item-"+a+" div.c-ladder__losses").text(e.stats.lost),$(".c-ladder__item-"+a+" div.c-ladder__points-for").text(e.stats.for),$(".c-ladder__item-"+a+" div.c-ladder__points-against").text(e.stats.against),$(".c-ladder__item-"+a+" div.c-ladder__percentage").text(e.stats.percentage),$(".c-ladder__item-"+a+" div.c-ladder__points").text(e.stats.points)}function roundCalc(e){var a=new Date(e),s=a.getMonth(),t=a.getDate();return 0==s||1==s&&t<=28||2==s&&t<=22?1:2==s&&t<=29?2:2==s&&t<=31||3==s&&t<=4?3:3==s&&t<=13?4:3==s&&t<=19?5:3==s&&t<=26?6:3==s&&t<=31||4==s&&t<=2?7:4==s&&t<=10?8:4==s&&t<=17?9:4==s&&t<=24?10:4==s&&t<=31?11:5==s&&t<=8?12:5==s&&t<=14?13:5==s&&t<=21?14:5==s&&t<=29?15:5==s&&t<=31||6==s&&t<=8?16:6==s&&t<=15?17:6==s&&t<=22?18:6==s&&t<=29?19:6==s&&t<=31||7==s&&t<=5?20:7==s&&t<=12?21:7==s&&t<=19?22:7==s&&t<=23?23:8==s?23:void 0}function teamAbrev(e,a){var s=e;return"ADE"==s?"Adelaide":"BRI"==s?"Brisbane":"CAR"==s?"Carlton":"COL"==s?"Collingwood":"ESS"==s?"Essendon":"WBD"==s?"W. Bulldogs":"FRE"==s?"Fremantle":"GEE"==s?"Geelong":"GCS"==s?"Gold Coast":"GWS"==s?"Gr. W. Sydney":"HAW"==s?"Hawthorn":"MEL"==s?"Melbourne":"NM"==s?"N. Melbourne":"POR"==s?"Port Adelaide":"RIC"==s?"Richmond":"STK"==s?"St. Kilda":"SYD"==s?"Sydney":"WCE"==s?"West Coast":a}function team_bg(e){return"ADE"==e?"img/teams/crows.svg":"BRI"==e?"img/teams/lions.svg":"CAR"==e?"img/teams/blues.svg":"COL"==e?"img/teams/magpies.svg":"ESS"==e?"img/teams/bombers.svg":"FRE"==e?"img/teams/dockers.svg":"GEE"==e?"img/teams/cats.svg":"GCS"==e?"img/teams/suns.svg":"GWS"==e?"img/teams/gws.svg":"HAW"==e?"img/teams/hawks.svg":"MEL"==e?"img/teams/demons.svg":"NM"==e?"img/teams/kangaroos.svg":"POR"==e?"img/teams/port.svg":"RIC"==e?"img/teams/tigers.svg":"STK"==e?"img/teams/saints.svg":"SYD"==e?"img/teams/swans.svg":"WCE"==e?"img/teams/eagles.svg":"WBD"==e?"img/teams/dogs.svg":void 0}function teamImg(e){return"ADE"==e?"img/teams/crows.png":"BRI"==e?"img/teams/lions.png":"CAR"==e?"img/teams/blues.png":"COL"==e?"img/teams/magpies.png":"ESS"==e?"img/teams/bombers.png":"FRE"==e?"img/teams/dockers.png":"GEE"==e?"img/teams/cats.png":"GCS"==e?"img/teams/suns.png":"GWS"==e?"img/teams/gws.png":"HAW"==e?"img/teams/hawks.png":"MEL"==e?"img/teams/demons.png":"NM"==e?"img/teams/kangaroos.png":"POR"==e?"img/teams/port.png":"RIC"==e?"img/teams/tigers.png":"STK"==e?"img/teams/saints.png":"SYD"==e?"img/teams/swans.png":"WCE"==e?"img/teams/eagles.png":"WBD"==e?"img/teams/dogs.png":void 0}function vertCenter(e,a){var s=e.parent().height();e.css({height:s+"px","line-height":s+"px"}),e.children(a).css({height:e.children(a).height(),"padding-top":(s-e.children(a).height())/2+"px","padding-bottom":(s-e.children(a).height())/2+"px"})}function clearStyles(e,a){e.attr("style",""),a.attr("style","")}dataLadder(),dataFixture();var ladder=function(){var e=$('.c-ladder__team:contains("Greater Western Sydney")');e.children("span").text("GWS"),e.children("img").attr("src","img/teams/gws.svg"),$('.c-ladder__team:contains("Hawthorn")').children("img").attr("src","img/teams/hawks.svg"),$('.c-ladder__team:contains("Gold Coast")').children("img").attr("src","img/teams/suns.svg"),$('.c-ladder__team:contains("Sydney")').children("img").attr("src","img/teams/swans.svg"),$('.c-ladder__team:contains("St Kilda")').children("img").attr("src","img/teams/saints.svg"),$('.c-ladder__team:contains("Richmond")').children("img").attr("src","img/teams/tigers.svg"),$('.c-ladder__team:contains("Essendon")').children("img").attr("src","img/teams/bombers.svg"),$('.c-ladder__team:contains("Geelong")').children("img").attr("src","img/teams/cats.svg"),$('.c-ladder__team:contains("Melbourne")').children("img").attr("src","img/teams/demons.svg"),$('.c-ladder__team:contains("Adelaide")').children("img").attr("src","img/teams/crows.svg"),$('.c-ladder__team:contains("Carlton")').children("img").attr("src","img/teams/blues.svg"),$('.c-ladder__team:contains("Port Adelaide")').children("img").attr("src","img/teams/port.svg"),$('.c-ladder__team:contains("Brisbane")').children("img").attr("src","img/teams/lions.svg"),$('.c-ladder__team:contains("West Coast")').children("img").attr("src","img/teams/eagles.svg"),$('.c-ladder__team:contains("North Melbourne")').children("img").attr("src","img/teams/kangaroos.svg"),$('.c-ladder__team:contains("Collingwood")').children("img").attr("src","img/teams/magpies.svg"),$('.c-ladder__team:contains("Fremantle")').children("img").attr("src","img/teams/dockers.svg"),$('.c-ladder__team:contains("Bulldogs")').children("img").attr("src","img/teams/dogs.svg")},data_club={ADE:{name:"Adelaide",logo:"img/teams/crows.png",kit:{home:"img/teams/crows-home.png",away:"img/teams/crows-away.png",clash:{kit:"img/teams/crows-home.png",teams:["HAW"]}}},BRI:{name:"Brisbane",logo:"img/teams/lions.png",kit:{home:"img/teams/lions-home.png",away:"img/teams/lions-away.png",clash:{kit:"img/teams/lions-clash.png",teams:["SYD","GWS","GCS","WCE","ADE","FRE","POR","MEL"]}}},CAR:{name:"Carlton",logo:"img/teams/blues.png",kit:{home:"img/teams/blues-home.png",away:"img/teams/blues-away.png",clash:{kit:"img/teams/blues-home.png",teams:["GEE","SYD"]}}},COL:{name:"Collingwood",logo:"img/teams/magpies.png",kit:{home:"img/teams/magpies-home.png",away:"img/teams/magpies-away.png",clash:{kit:"img/teams/magpies-home.png",teams:["SYD","GEE"]}}},ESS:{name:"Essendon",logo:"img/teams/bombers.png",kit:{home:"img/teams/bombers-home.png",away:"img/teams/bombers-home.png",clash:{kit:"img/teams/bombers-clash.png",teams:["MEL","COL","CAR","POR","STK","RIC"]}}},FRE:{name:"Fremantle",logo:"img/teams/dockers.png",kit:{home:"img/teams/dockers-home.png",away:"img/teams/dockers-away.png",clash:{kit:"img/teams/dockers-home.png",teams:["SYD","GEE"]}}},GEE:{name:"Geelong",logo:"img/teams/lions.png",kit:{home:"img/teams/cats-home.png",away:"img/teams/cats-home.png",clash:{kit:"img/teams/cats-clash.png",teams:[]}}},GCS:{name:"Gold Coast",logo:"img/teams/suns.png",kit:{home:"img/teams/suns-home.png",away:"img/teams/suns-away.png",clash:{kit:"img/teams/suns-home.png",teams:["WBD","CAR","FRE","NM","WCE"]}}},GWS:{name:"Gr. W. Sydney",logo:"img/teams/gws.png",kit:{home:"img/teams/gws-home.png",away:"img/teams/gws-away.png",clash:{kit:"img/teams/gws-home.png",teams:["SYD","GEE"]}}},HAW:{name:"Hawthorn",logo:"img/teams/hawks.png",kit:{home:"img/teams/hawks-home.png",away:"img/teams/hawks-away.png",clash:{kit:"img/teams/hawks-home.png",teams:[]}}},MEL:{name:"Melbourne",logo:"img/teams/demons.png",kit:{home:"img/teams/demons-home.png",away:"img/teams/demons-away.png",clash:{kit:"img/teams/demons-home.png",teams:[]}}},NM:{name:"N. Melbourne",logo:"img/teams/kangaroos.png",kit:{home:"img/teams/kangaroos-home.png",away:"img/teams/kangaroos-clash.png",clash:{kit:"img/teams/kangaroos-home.png",teams:["COL"]}}},POR:{name:"Port Adelaide",logo:"img/teams/power.png",kit:{home:"img/teams/power-home.png",away:"img/teams/power-away.png",clash:{kit:"img/teams/power-home.png",teams:["SYD","GEE"]}}},RIC:{name:"Richmond",logo:"img/teams/tigers.png",kit:{home:"img/teams/tigers-home.png",away:"img/teams/tigers-away.png",clash:{kit:"img/teams/tigers-home.png",teams:["HAW"]}}},STK:{name:"St. Kilda",logo:"img/teams/saints.png",kit:{home:"img/teams/saints-home.png",away:"img/teams/saints-away.png",clash:{kit:"img/teams/saints-home.png",teams:["SYD","GEE"]}}},SYD:{name:"Sydney",logo:"img/teams/swans.png",kit:{home:"img/teams/swans-home.png",away:"img/teams/swans-home.png",clash:{kit:"img/teams/swans-home.png",teams:[]}}},WBD:{name:"W. Bulldogs",logo:"img/teams/dogs.png",kit:{home:"img/teams/dogs-home.png",away:"img/teams/dogs-away.png",clash:{kit:"img/teams/dogs-home.png",teams:["SYD","GEE"]}}},WCE:{name:"West Coast",logo:"img/teams/eagles.png",kit:{home:"img/teams/eagles-home.png",away:"img/teams/eagles-away.png",clash:{kit:"img/teams/eagles-home.png",teams:["HAW"]}}}};$(window).on("resize",function(){});